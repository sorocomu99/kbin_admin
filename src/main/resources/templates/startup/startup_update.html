<!doctype html>
<html lang="ko">
<head th:replace="fragment/config :: configFragment"></head>

<body>
    <div class="wrap">
        <div th:replace="fragment/header :: headerFragment"></div>

        <main class="main">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="paper">
                            <h2 class="h4">KB 스타터스 관리</h2>
                            <div class="mt-4">
                                <form id="startup_form" name="startup_form" th:action="@{/startup/update}" method="post">
                                    <input type="hidden" name="menu_id" th:value="${menuId}"/>
                                    <input type="hidden" name="ent_cd" th:value="${ent_cd}"
                                    <h3 class="h5 mt-5 mb-3">기본정보</h3>
                                    <table class="table table-bordered align-middle">
                                        <tbody>
                                            <tr>
                                                <th class="bg-light" width="20%">기업명</th>
                                                <td>
                                                    <input type="text" class="form-control" id="ent_nm" name="ent_nm" th:value="${selectStarterInfo.ent_nm}" placeholder="ex) 리벨리온">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">제품/서비스</th>
                                                <td>
                                                    <input type="text" class="form-control" id="main_biz" name="main_biz" th:value="${selectStarterInfo.main_biz}" placeholder="ex) 가속 전용 저전력 인공지능 반도체 제조">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">기업소개</th>
                                                <td>
                                                    <input type="text" class="form-control" id="tpbiz" name="tpbiz" th:value="${selectStarterInfo.tpbiz}" placeholder="ex) 비메모리용 기타 전자집적회로 제조업">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">근무자</th>
                                                <td>
                                                    <input type="number" class="form-control" name="now_wrkr_nocs" th:value="${selectStarterInfo.now_wrkr_nocs}" placeholder="ex) 128">
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <h3 class="h5 mt-5 mb-3">기본정보</h3>
                                    <table class="table table-bordered align-middle">
                                        <tbody>
                                            <tr>
                                                <th class="bg-light" width="20%">CEO</th>
                                                <td>
                                                    <input type="text" class="form-control" id="rprsv_nm" name="rprsv_nm" th:value="${selectStarterInfo.rprsv_nm}" placeholder="ex) 박성현">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">설립일</th>
                                                <td>
                                                    <input type="text" class="form-control" id="fndn_ymd" name="fndn_ymd" th:value="${selectStarterInfo.fndn_ymd}" placeholder="ex) 2020-06-23">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">사업자번호</th>
                                                <td>
                                                    <input type="text" class="form-control" id="brno" name="brno" th:value="${selectStarterInfo.brno}" placeholder="ex) 669-870-1717">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">법인등록번호</th>
                                                <td>
                                                    <input type="text" class="form-control" id="corp_no" name="corp_no" th:value="${selectStarterInfo.corp_no}" placeholder="ex) 131111-0596452">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">자본금(원)</th>
                                                <td>
                                                    <input type="number" class="form-control" id="cptl_amt" name="cptl_amt" th:value="${selectStarterInfo.cptl_amt}" placeholder="ex) 202303000">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">형태</th>
                                                <td>
                                                    <input type="text" class="form-control" id="ent_shape" name="ent_shape" th:value="${selectStarterInfo.ent_shape}" placeholder="ex) 외감">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">외감</th>
                                                <td>
                                                    <input type="text" class="form-control" id="external_audit_yn" name="external_audit_yn" th:value="${selectStarterInfo.external_audit_yn}" placeholder="ex) Y" maxlength="1">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">벤처인증</th>
                                                <td>
                                                    <input type="text" class="form-control" id="venture_cert_yn" name="venture_cert_yn" th:value="${selectStarterInfo.venture_cert_yn}" placeholder="ex) Y" maxlength="1">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">주소</th>
                                                <td>
                                                    <input type="text" class="form-control" id="addr" name="addr" th:value="${selectStarterInfo.addr}" placeholder="ex) 경기도 성남시 분당구 정자일로 239, 102동 801호(정자동, 아이파크분당1) ">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">규모</th>
                                                <td>
                                                    <input type="text" class="form-control" id="ent_scale" name="ent_scale" th:value="${selectStarterInfo.ent_scale}" placeholder="ex) 중소기업">
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <h3 class="h5 mt-5 mb-3">사업</h3>
                                    <table class="table table-bordered align-middle">
                                        <tbody>
                                            <tr>
                                                <th class="bg-light" width="20%">제품</th>
                                                <td>
                                                    <input type="text" class="form-control" id="prdct" name="prdct" th:value="${selectStarterInfo.prdct}" placeholder="ex) ATOM, ION">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">홈페이지 링크</th>
                                                <td>
                                                    <input type="text" class="form-control" id="hmpg" name="hmpg" th:value="${selectStarterInfo.hmpg}" placeholder="ex) https://rebellions.ai/">
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <h3 class="h5 mt-5 mb-3">고용</h3>
                                    <table class="table table-bordered align-middle">
                                        <tbody>
                                            <tr>
                                                <th class="bg-light" width="20%">연간 입사자(명)</th>
                                                <td>
                                                    <input type="number" class="form-control" id="mm12_jncmp_nocs" name="mm12_jncmp_nocs" th:value="${selectStarterInfo.mm12_jncmp_nocs}" placeholder="ex) 62">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">연간 퇴사자(명)</th>
                                                <td>
                                                    <input type="number" class="form-control" id="mm12_rsgntn_nocs" name="mm12_rsgntn_nocs" th:value="${selectStarterInfo.mm12_rsgntn_nocs}" placeholder="ex) 25">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">연간 퇴사율(%)</th>
                                                <td>
                                                    <input type="text" class="form-control" id="mm12_rsgntn_rt" name="mm12_rsgntn_rt" th:value="${selectStarterInfo.mm12_rsgntn_rt}" placeholder="ex) 22.84">
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <div class="d-flex justify-content-between mt-5 mb-3">
                                        <h3 class="h5">제공 서비스/제품</h3>
                                        <div>
                                            <button type="button" class="btn btn-sm btn-outline-primary" onclick="addInputService()">
                                                <i class="me-0" data-feather="plus"></i>
                                                추가
                                            </button>
                                            <button type="button" id="removeServeice" class="btn btn-sm btn-outline-danger d-none" onclick="removeInputService()">
                                                <i class="me-0" data-feather="minus"></i>
                                                삭제
                                            </button>
                                        </div>
                                    </div>
                                    <table class="table-service table table-bordered align-middle" th:each="bizSrvc, status : ${selectBizSrvcInfo}">
                                        <tbody>
                                            <tr>
                                                <th class="bg-light" width="20%">서비스명</th>
                                                <td>
                                                    <input type="text" class="form-control" id="srvc_nm" name="srvc_nm" th:value="${bizSrvc.srvc_nm}" placeholder="ex) ATOM">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">Web 링크</th>
                                                <td>
                                                    <input type="text" class="form-control" id="web_srvc_link" name="web_srvc_link" th:value="${bizSrvc.web_srvc_link}" placeholder="ex) https://rebellions.ai/rebellions-product/atom-2/">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">Android 링크</th>
                                                <td>
                                                    <input type="text" class="form-control" id="google_app_link" name="google_app_link" th:value="${bizSrvc.google_app_link}" placeholder="ex) https://rebellions.ai/rebellions-product/atom-2/">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" width="20%">IOS 링크</th>
                                                <td>
                                                    <input type="text" class="form-control" id="apple_app_link" name="apple_app_link" th:value="${bizSrvc.apple_app_link}" placeholder="ex) https://rebellions.ai/rebellions-product/atom-2/">
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <h3 class="h5 mt-5 mb-3">투자유치(단위 : 원)</h3>
                                    <table class="table-invest table table-bordered align-middle">
                                        <thead>
                                            <tr>
                                                <th class="bg-light" width="21%">날짜</th>
                                                <th class="bg-light" width="21%">투자단계</th>
                                                <th class="bg-light" width="21%">투자유치금액</th>
                                                <th class="bg-light" width="21%">투자자</th>
                                                <th class="bg-light" width="16%">관리</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:if="${#lists.isEmpty(selectInvestInfo)}">
                                                <td><input type="text" class="form-control" id="invest_ymd" name="invest_ymd" placeholder="ex) 2024-08-09"></td>
                                                <td>
                                                    <select class="form-select" aria-label="" name="series_nm">
                                                        <option value="">해당없음</option>
                                                        <option value="SEED">Seed</option>
                                                        <option value="PREA">Pre-A</option>
                                                        <option value="A">Series A</option>
                                                        <option value="B">Series B</option>
                                                        <option value="C">Series C</option>
                                                        <option value="D">Series D</option>
                                                        <option value="E">Series E</option>
                                                        <option value="F">Series F</option>
                                                        <option value="G">Series G</option>
                                                        <option value="PREIPO">Pre-IPO</option>
                                                        <option value="M&A">M&A</option>
                                                        <option value="TIPS">TIPS</option>
                                                    </select>
                                                </td>
                                                <td><input type="number" class="form-control" id="invest_amt" name="invest_amt" placeholder="ex) 100000000"></td>
                                                <td><input type="text" class="form-control" id="investor" name="investor" placeholder="ex) 글로벌팁스"></td>
                                                <td class="text-center">
                                                    <button type="button" class="btn btn-sm btn-outline-primary" onclick="addInputInvest()">
                                                        <i class="me-0" data-feather="plus"></i>
                                                        추가
                                                    </button>
                                                </td>
                                            </tr>

                                            <tr th:each="invest, status : ${selectInvestInfo}">
                                                <td><input type="text" class="form-control" id="invest_ymd" name="invest_ymd" th:value="${invest.apple_app_link}" placeholder="ex) 2024-08-09"></td>
                                                <td>
                                                    <select class="form-select" aria-label="" name="series_nm">
                                                        <option value="" th:selected="${invest.series_nm == null or invest.series_nm == ''}">해당없음</option>
                                                        <option value="SEED" th:selected="${invest.series_nm == 'SEED'}">Seed</option>
                                                        <option value="PREA" th:selected="${invest.series_nm == 'PREA'}">Pre-A</option>
                                                        <option value="A" th:selected="${invest.series_nm == 'A'}">Series A</option>
                                                        <option value="B" th:selected="${invest.series_nm == 'B'}">Series B</option>
                                                        <option value="C" th:selected="${invest.series_nm == 'C'}">Series C</option>
                                                        <option value="D" th:selected="${invest.series_nm == 'D'}">Series D</option>
                                                        <option value="E" th:selected="${invest.series_nm == 'E'}">Series E</option>
                                                        <option value="F" th:selected="${invest.series_nm == 'F'}">Series F</option>
                                                        <option value="G" th:selected="${invest.series_nm == 'G'}">Series G</option>
                                                        <option value="PREIPO" th:selected="${invest.series_nm == 'PREIPO'}">Pre-IPO</option>
                                                        <option value="M&A" th:selected="${invest.series_nm == 'M&A'}">M&A</option>
                                                        <option value="TIPS" th:selected="${invest.series_nm == 'TIPS'}">TIPS</option>
                                                    </select>
                                                </td>
                                                <td><input type="number" class="form-control" id="invest_amt" name="invest_amt" th:value="${invest.invest_amt}" placeholder="ex) 100000000"></td>
                                                <td><input type="text" class="form-control" id="investor" name="investor" th:value="${invest.investor}" placeholder="ex) 글로벌팁스"></td>
                                                <td class="text-center">
                                                    <button type="button" class="btn btn-sm btn-outline-primary" onclick="addInputInvest()">
                                                        <i class="me-0" data-feather="plus"></i>
                                                        추가
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <h3 class="h5 mt-5 mb-3">조직분석-고용현황</h3>
                                    <table class="table-recruit table table-bordered align-middle">
                                        <thead>
                                            <tr>
                                                <th class="bg-light" width="21%">연도/별</th>
                                                <th class="bg-light" width="21%">입사자(명)</th>
                                                <th class="bg-light" width="21%">퇴사자(명)</th>
                                                <th class="bg-light" width="21%">근무자(명)</th>
                                                <th class="bg-light" width="16%">관리</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:if="${#lists.isEmpty(selectEmploInfo)}">
                                                <td><input type="number" class="form-control" name="crtr_ym" placeholder="ex) 202008" maxlength="6"
                                                           oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"></td>
                                                <td><input type="number" class="form-control" name="jncmp_nocs" placeholder="ex) 4"></td>
                                                <td><input type="number" class="form-control" name="rsgntn_nocs" placeholder="ex) 0"></td>
                                                <td><input type="number" class="form-control" name="hdof_nocs" placeholder="ex) 4"></td>
                                                <td class="text-center">
                                                    <button type="button" class="btn btn-sm btn-outline-primary" onclick="addInputRecruit()">
                                                        <i class="me-0" data-feather="plus"></i>
                                                        추가
                                                    </button>
                                                </td>
                                            </tr>

                                            <tr th:each="emplo, status : ${selectEmploInfo}">
                                                <td><input type="number" class="form-control" name="crtr_ym" th:value="${emplo.crtr_ym}" placeholder="ex) 202008" maxlength="6"
                                                           oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"></td>
                                                <td><input type="number" class="form-control" name="jncmp_nocs" th:value="${emplo.jncmp_nocs}" placeholder="ex) 4"></td>
                                                <td><input type="number" class="form-control" name="rsgntn_nocs" th:value="${emplo.rsgntn_nocs}" placeholder="ex) 0"></td>
                                                <td><input type="number" class="form-control" name="hdof_nocs" th:value="${emplo.hdof_nocs}" placeholder="ex) 4"></td>
                                                <td class="text-center">
                                                    <button type="button" class="btn btn-sm btn-outline-primary" onclick="addInputRecruit()">
                                                        <i class="me-0" data-feather="plus"></i>
                                                        추가
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <h3 class="h5 mt-5 mb-3">주요 손익계산서(단위 : 천원)</h3>
                                    <table class="table table-bordered align-middle">
                                        <thead>
                                            <tr>
                                                <th class="bg-light align-middle" width="16.66666%">항목</th>
                                                <th:block th:with="list=${selectSlsInfoList ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <th class="bg-light" width="16.66666%">
                                                            <input type="number" class="form-control" th:name="'sls_yr' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.sls_yr} : ''"
                                                                   th:placeholder="'ex) ' + ${2019 + iterStat.index}"
                                                                   maxlength="4"
                                                                   oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);">
                                                        </th>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th>매출액</th>
                                                <th:block th:with="list=${selectSlsInfoList ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <td>
                                                            <input type="number" class="form-control" th:name="'sls_amt' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.sls_amt} : ''"
                                                                   placeholder="ex) 100000">
                                                        </td>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                            <tr>
                                                <th>매출원가</th>
                                                <th:block th:with="list=${selectSlsInfoList ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <td>
                                                            <input type="number" class="form-control" th:name="'sls_cost_amt' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.sls_cost_amt} : ''"
                                                                   placeholder="ex) 100000">
                                                        </td>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                            <tr>
                                                <th>매출총이익</th>
                                                <th:block th:with="list=${selectSlsInfoList ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <td>
                                                            <input type="number" class="form-control" th:name="'sls_gramt' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.sls_gramt} : ''"
                                                                   placeholder="ex) 100000">
                                                        </td>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                            <tr>
                                                <th>판관비</th>
                                                <th:block th:with="list=${selectSlsInfoList ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <td>
                                                            <input type="number" class="form-control" th:name="'sga_amt' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.sga_amt} : ''"
                                                                   placeholder="ex) 100000">
                                                        </td>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                            <tr>
                                                <th>영업이익</th>
                                                <th:block th:with="list=${selectSlsInfoList ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <td>
                                                            <input type="number" class="form-control" th:name="'operating_profit' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.operating_profit} : ''"
                                                                   placeholder="ex) 100000">
                                                        </td>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                            <tr>
                                                <th>순이익</th>
                                                <th:block th:with="list=${selectSlsInfoList ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <td>
                                                            <input type="number" class="form-control" th:name="'net_profit' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.net_profit} : ''"
                                                                   placeholder="ex) 100000">
                                                        </td>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <h3 class="h5 mt-5 mb-3">주요 재무상태표(단위 : 천원)</h3>
                                    <table class="table table-bordered align-middle">
                                        <thead>
                                            <tr>
                                                <th class="bg-light align-middle" width="16.66666%">항목</th>
                                                <th:block th:with="list=${selectListAstInfo ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <th class="bg-light" width="16.66666%">
                                                            <input type="number" class="form-control" th:name="'ast_yr' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.ast_yr} : ''"
                                                                   th:placeholder="'ex) ' + ${2019 + iterStat.index}"
                                                                   maxlength="4"
                                                                   oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);">
                                                        </th>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th>유동자산</th>
                                                <th:block th:with="list=${selectListAstInfo ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <td>
                                                            <input type="number" class="form-control" th:name="'current_assets' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.current_assets} : ''"
                                                                   placeholder="ex) 100000">
                                                        </td>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                            <tr>
                                                <th>비유동자</th>
                                                <th:block th:with="list=${selectListAstInfo ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <td>
                                                            <input type="number" class="form-control" th:name="'non_current_assets' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.non_current_assets} : ''"
                                                                   placeholder="ex) 100000">
                                                        </td>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                            <tr>
                                                <th>자산총계</th>
                                                <th:block th:with="list=${selectListAstInfo ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <td>
                                                            <input type="number" class="form-control" th:name="'ast_gramt' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.ast_gramt} : ''"
                                                                   placeholder="ex) 100000">
                                                        </td>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                            <tr>
                                                <th>부채총계</th>
                                                <th:block th:with="list=${selectListAstInfo ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <td>
                                                            <input type="number" class="form-control" th:name="'debt_gramt' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.debt_gramt} : ''"
                                                                   placeholder="ex) 100000">
                                                        </td>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                            <tr>
                                                <th>자본금</th>
                                                <th:block th:with="list=${selectListAstInfo ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <td>
                                                            <input type="number" class="form-control" th:name="'cptl' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.cptl} : ''"
                                                                   placeholder="ex) 100000">
                                                        </td>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                            <tr>
                                                <th>자본총계</th>
                                                <th:block th:with="list=${selectListAstInfo ?: {}}">
                                                    <th:block th:each="item, iterStat : ${#numbers.sequence(1, 5)}">
                                                        <td>
                                                            <input type="number" class="form-control" th:name="'cptl_gramt' + ${iterStat.count}"
                                                                   th:value="${iterStat.index < #lists.size(list)} ? ${list[iterStat.index]?.cptl_gramt} : ''"
                                                                   placeholder="ex) 100000">
                                                        </td>
                                                    </th:block>
                                                </th:block>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <div class="d-flex justify-content-between mt-5 mb-3">
                                        <h3 class="h5">뉴스</h3>
                                        <div>
                                            <button type="button" class="btn btn-sm btn-outline-primary" onclick="addInputNews()">
                                                <i class="me-0" data-feather="plus"></i>
                                                추가
                                            </button>
                                            <button type="button" id="removeNews" class="btn btn-sm btn-outline-danger d-none" onclick="removeInputNews()">
                                                <i class="me-0" data-feather="minus"></i>
                                                삭제
                                            </button>
                                        </div>
                                    </div>
                                    <table class="table-news table table-bordered align-middle" th:each="news, status : ${selectNewsInfo}">
                                        <tbody>
                                        <!-- 첫 번째 항목에만 썸네일 필드 포함 -->
                                        <tr th:if="${status.index == 0}">
                                            <th class="bg-light">썸네일 이미지 링크</th>
                                            <td>
                                                <input type="text" class="form-control" name="thumb_url"
                                                       th:value="${news.thumb_url}"
                                                       placeholder="ex) https://www.dt.co.kr/contents.html?article_no=2024110602109931092006&ref=jeadan">
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="bg-light" width="20%">기사 제목</th>
                                            <td>
                                                <input type="text" class="form-control" name="news_ttl"
                                                       th:value="${news.news_ttl}"
                                                       placeholder="ex) 티맥스클라우드, 리벨리온과 AI 반도체 기반 IaaS 사업 협력">
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="bg-light" width="20%">출처</th>
                                            <td>
                                                <input type="text" class="form-control" name="provider"
                                                       th:value="${news.provider}"
                                                       placeholder="ex) 디지털타임스">
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="bg-light" width="20%">링크</th>
                                            <td>
                                                <input type="text" class="form-control" name="news_link"
                                                       th:value="${news.news_link}"
                                                       placeholder="ex) https://www.dt.co.kr/contents.html?article_no=2024110602109931092006&ref=jeadan">
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>

                                    <h3 class="h5 mt-5 mb-3">자주 언급된 키워드</h3>
                                    <!--
                                    <table class="table table-bordered align-middle">
                                        <tbody>
                                            <th class="bg-light" width="20%">기준년월</th>
                                            <td><input type="text" class="form-control" value="" placeholder="ex) 2024.12.01 기준"></td>
                                        </tbody>
                                    </table>
                                    -->
                                    <table class="table-news table table-bordered align-middle">
                                        <tbody>
                                            <tr>
                                                <th class="bg-light" rowspan="2" style="width:10%">키워드 1</th>
                                                <th class="bg-light" style="width:10%">키워드명</th>
                                                <td>
                                                    <input type="text" class="form-control w-auto" name="keywd1" th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 0 ? selectKeywdInfo[0].keywd : ''}" placeholder="ex) AI">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light">숫자</th>
                                                <td>
                                                    <input type="number" class="form-control w-auto" name="nocs1" th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 0 ? selectKeywdInfo[0].nocs : ''}" placeholder="ex) 500">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" rowspan="2">키워드 2</th>
                                                <th class="bg-light">키워드명</th>
                                                <td>
                                                    <input type="text" class="form-control w-auto" name="keywd2" th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 1 ? selectKeywdInfo[1].keywd : ''}" placeholder="ex) 리벨리온">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light">숫자</th>
                                                <td>
                                                    <input type="number" class="form-control w-auto" name="nocs2" th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 1 ? selectKeywdInfo[1].nocs : ''}" placeholder="ex) 450">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" rowspan="2">키워드 3</th>
                                                <th class="bg-light">키워드명</th>
                                                <td>
                                                    <input type="text" class="form-control w-auto" name="keywd3"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 2 ? selectKeywdInfo[2].keywd : ''}"
                                                           placeholder="ex) 반도체">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light">숫자</th>
                                                <td>
                                                    <input type="number" class="form-control w-auto" name="nocs3"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 2 ? selectKeywdInfo[2].nocs : ''}"
                                                           placeholder="ex) 400">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" rowspan="2">키워드 4</th>
                                                <th class="bg-light">키워드명</th>
                                                <td>
                                                    <input type="text" class="form-control w-auto" name="keywd4"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 3 ? selectKeywdInfo[3].keywd : ''}"
                                                           placeholder="ex) 기업">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light">숫자</th>
                                                <td>
                                                    <input type="number" class="form-control w-auto" name="nocs4"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 3 ? selectKeywdInfo[3].nocs : ''}"
                                                           placeholder="ex) 350">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" rowspan="2">키워드 5</th>
                                                <th class="bg-light">키워드명</th>
                                                <td>
                                                    <input type="text" class="form-control w-auto" name="keywd5"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 4 ? selectKeywdInfo[4].keywd : ''}"
                                                           placeholder="ex) 사업">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light">숫자</th>
                                                <td>
                                                    <input type="number" class="form-control w-auto" name="nocs5"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 4 ? selectKeywdInfo[4].nocs : ''}"
                                                           placeholder="ex) 300">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" rowspan="2">키워드 6</th>
                                                <th class="bg-light">키워드명</th>
                                                <td>
                                                    <input type="text" class="form-control w-auto" name="keywd6"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 5 ? selectKeywdInfo[5].keywd : ''}"
                                                           placeholder="ex) 협력">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light">숫자</th>
                                                <td>
                                                    <input type="number" class="form-control w-auto" name="nocs6"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 5 ? selectKeywdInfo[5].nocs : ''}"
                                                           placeholder="ex) 250">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" rowspan="2">키워드 7</th>
                                                <th class="bg-light">키워드명</th>
                                                <td>
                                                    <input type="text" class="form-control w-auto" name="keywd7"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 6 ? selectKeywdInfo[6].keywd : ''}"
                                                           placeholder="ex) NPU">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light">숫자</th>
                                                <td>
                                                    <input type="number" class="form-control w-auto" name="nocs7"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 6 ? selectKeywdInfo[6].nocs : ''}"
                                                           placeholder="ex) 200">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" rowspan="2">키워드 8</th>
                                                <th class="bg-light">키워드명</th>
                                                <td>
                                                    <input type="text" class="form-control w-auto" name="keywd8"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 7 ? selectKeywdInfo[7].keywd : ''}"
                                                           placeholder="ex) 대표">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light">숫자</th>
                                                <td>
                                                    <input type="number" class="form-control w-auto" name="nocs8"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 7 ? selectKeywdInfo[7].nocs : ''}"
                                                           placeholder="ex) 150">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" rowspan="2">키워드 9</th>
                                                <th class="bg-light">키워드명</th>
                                                <td>
                                                    <input type="text" class="form-control w-auto" name="keywd9"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 8 ? selectKeywdInfo[8].keywd : ''}"
                                                           placeholder="ex) 코오롱베니트">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light">숫자</th>
                                                <td>
                                                    <input type="number" class="form-control w-auto" name="nocs9"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 8 ? selectKeywdInfo[8].nocs : ''}"
                                                           placeholder="ex) 100">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light" rowspan="2">키워드 10</th>
                                                <th class="bg-light">키워드명</th>
                                                <td>
                                                    <input type="text" class="form-control w-auto" name="keywd10"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 9 ? selectKeywdInfo[9].keywd : ''}"
                                                           placeholder="ex) 시장">
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="bg-light">숫자</th>
                                                <td>
                                                    <input type="number" class="form-control w-auto" name="nocs10"
                                                           th:value="${selectKeywdInfo != null && selectKeywdInfo.size() > 9 ? selectKeywdInfo[9].nocs : ''}"
                                                           placeholder="ex) 50">
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <div class="button-container">
                                        <!--<a href="/html_ko/preview/startup.html" target="_blank" class="btn btn-outline-primary">미리보기</a>-->
                                        <a th:href="@{/startup/list/{menuId}(menuId=${menuId})}" class="btn btn-outline-dark">목록보기</a>
                                        <button type="button" class="btn btn-primary" onclick="javascript:startupUpdate();">수정하기</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script th:src="@{/js/admin.js}"></script>
    <script th:inline="javascript">
        // 페이지 로드 시 실행
        window.onload = function () {
            // 페이지 로드 시 메시지 확인 및 알림 표시
            // 수정 및 등록 시 띄울 알림창
            const msg = /*[[${msg}]]*/ '';
            if (msg) alert(msg);
        }

        // 제공 서비스/제품
        const removeServeiceButton = $('#removeServeice');
        let serviceIndex = 0;

        function addInputService() {
            const dom =
            '<table class="table-service table table-bordered align-middle">' +
                '<tbody>' +
                    '<tr>' +
                        '<th class="bg-light" width="20%">서비스명</th>' +
                        '<td>' +
                            '<input type="text" class="form-control" name="srvc_nm" value="" placeholder="ex) ATOM">' +
                        '</td>' +
                    '</tr>' +
                    '<tr>' +
                        '<th class="bg-light" width="20%">Web 링크</th>' +
                        '<td>' +
                            '<input type="text" class="form-control" name="web_srvc_link" value="" placeholder="ex) https://rebellions.ai/rebellions-product/atom-2/">' +
                        '</td>' +
                    '</tr>' +
                    '<tr>' +
                        '<th class="bg-light" width="20%">Android 링크</th>' +
                        '<td>' +
                            '<input type="text" class="form-control" name="google_app_link" value="" placeholder="ex) https://rebellions.ai/rebellions-product/atom-2/">' +
                        '</td>' +
                    '</tr>' +
                    '<tr>' +
                        '<th class="bg-light" width="20%">IOS 링크</th>' +
                        '<td>' +
                            '<input type="text" class="form-control" name="apple_app_link" value="" placeholder="ex) https://rebellions.ai/rebellions-product/atom-2/">' +
                        '</td>' +
                    '</tr>' +
                '</tbody>' +
            '</table>';

            $('.table-service').eq(serviceIndex).after(dom);

            removeServeiceButton.removeClass('d-none');

            serviceIndex++;
        }

        function removeInputService(e) {
            if(serviceIndex > 0) {
                $('.table-service').eq(serviceIndex).remove();

                serviceIndex--;
            }

            if(serviceIndex === 0) {
                removeServeiceButton.addClass('d-none');
            }

        }

        // 투자유치
        let investIndex = 0;

        function addInputInvest() {
            const dom =
            '<tr>' +
                '<td><input type="text" class="form-control" name="invest_ymd" value="" placeholder="ex) 2024-08-09"></td>' +
                '<td>' +
                    '<select class="form-select" aria-label="" name="series_nm">' +
                        '<option value="">해당없음</option>' +
                        '<option value="SEED">Seed</option>' +
                        '<option value="PREA">Pre-A</option>' +
                        '<option value="A">Series A</option>' +
                        '<option value="B">Series B</option>' +
                        '<option value="C">Series C</option>' +
                        '<option value="D">Series D</option>' +
                        '<option value="E">Series E</option>' +
                        '<option value="F">Series F</option>' +
                        '<option value="G">Series G</option>' +
                        '<option value=PREIPO">Pre-IPO</option>' +
                        '<option value="M&A">M&A</option>' +
                        '<option value="TIPS">TIPS</option>' +
                    '</select>' +
                '</td>' +
                '<td><input type="text" class="form-control" id="invest_amt" name="invest_amt" value="" placeholder="ex) 100,000,000"></td>' +
                '<td><input type="text" class="form-control" id="investor" name="investor" value="" placeholder="ex) 글로벌팁스"></td>' +
                '<td class="text-center">' +
                    '<button type="button" class="btn btn-sm btn-outline-primary" onclick="addInputInvest()">' +
                        '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus me-0"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>' +
                        '추가' +
                    '</button> ' +
                    '<button type="button" class="btn btn-sm btn-outline-danger" onclick="removeInputInvest(this)">' +
                        '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus me-0"><line x1="5" y1="12" x2="19" y2="12"></line></svg>' +
                        '삭제' +
                    '</button>' +
                '</td>' +
            '</tr>';

            $('.table-invest tbody').append(dom);

            investIndex++;
        }

        function removeInputInvest(e) {
            $(e).closest('tr').remove();
        }

        // 조직분석-고용현황
        let recruitIndex = 0;

        function addInputRecruit() {
            const dom =
            '<tr>' +
                '<td><input type="text" class="form-control" name="crtr_ym" value="" placeholder="ex) 2020.08"></td>' +
                '<td><input type="text" class="form-control" name="jncmp_nocs" value="" placeholder="ex) 4"></td>' +
                '<td><input type="text" class="form-control" name="rsgntn_nocs" value="" placeholder="ex) 0"></td>' +
                '<td><input type="text" class="form-control" name="hdof_nocs" value="" placeholder="ex) 4"></td>' +
                '<td class="text-center">' +
                    '<button type="button" class="btn btn-sm btn-outline-primary" onclick="addInputRecruit()">' +
                        '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus me-0"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>' +
                        '추가' +
                    '</button> ' +
                    '<button type="button" class="btn btn-sm btn-outline-danger" onclick="removeInputRecruit(this)">' +
                        '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus me-0"><line x1="5" y1="12" x2="19" y2="12"></line></svg>' +
                        '삭제' +
                    '</button>' +
                '</td>' +
            '</tr>';

            $('.table-recruit tbody').append(dom);

            recruitIndex++;
        }

        function removeInputRecruit(e) {
            $(e).closest('tr').remove();
        }

        // 뉴스
        const removeNewsButton = $('#removeNews');
        let newsIndex = 0;

        function addInputNews() {
            const dom =
            '<table class="table-news table table-bordered align-middle">' +
                '<tbody>' +
                    '<tr>' +
                        '<th class="bg-light" width="20%">기사 제목</th>' +
                        '<td>' +
                            '<input type="text" class="form-control" name="news_ttl" value="" placeholder="ex) 티맥스클라우드, 리벨리온과 AI 반도체 기반 IaaS 사업 협력">' +
                        '</td>' +
                    '</tr>' +
                    '<tr>' +
                        '<th class="bg-light" width="20%">출처</th>' +
                        '<td>' +
                            '<input type="text" class="form-control" name="provider" value="" placeholder="ex) 디지털타임스">' +
                        '</td>' +
                    '</tr>' +
                    '<tr>' +
                        '<th class="bg-light" width="20%">링크</th>' +
                        '<td>' +
                            '<input type="text" class="form-control" name="news_link" value="" placeholder="ex) https://www.dt.co.kr/contents.html?article_no=2024110602109931092006&ref=jeadan">' +
                        '</td>' +
                    '</tr>' +
                '</tbody>' +
            '</table>';

            $('.table-news').eq(newsIndex).after(dom);

            removeNewsButton.removeClass('d-none');

            newsIndex++;
        }

        function removeInputNews(e) {
            if(newsIndex > 0) {
                $('.table-news').eq(newsIndex).remove();

                newsIndex--;
            }

            if(newsIndex === 0) {
                removeNewsButton.addClass('d-none');
            }

        }

        function startupUpdate() {
            //제공 서비스 입력값 콤마를 파이프 라인으로 변경
            const srvc_nm_inputs = document.querySelectorAll('input[name="srvc_nm"]');
            srvc_nm_inputs.forEach(input => {
                input.value = input.value.replaceAll(',', '|');
            });

            //투자일자 입력값 콤마를 파이프 라인으로 변경
            const invest_ymd_inputs = document.querySelectorAll('input[name="invest_ymd"]');
            invest_ymd_inputs.forEach(input => {
               input.value = input.value.replaceAll(',', '|');
            });

            //투자자 입력값 콤마를 파이프 라인으로 변경
            investor_inputs = document.querySelectorAll('input[name="investor"]');
            investor_inputs.forEach(input => {
                input.value = input.value.replaceAll(',', '|');
            });

            //누스제목 입력값 콤마를 파이프 라인으로 변경
            news_ttl_inputs = document.querySelectorAll('input[name="news_ttl"]');
            news_ttl_inputs.forEach(input => {
                input.value = input.value.replaceAll(',', '|');
            });

            //뉴스 제공자 입력값 콤마를 파이프 라인으로 변경
            provider_inputs = document.querySelectorAll('input[name="provider"]');
            provider_inputs.forEach(input => {
                input.value = input.value.replaceAll(',', '|');
            });

            let result = confirm("등록 하시겠습니까?");
            if (result) {
                const form = document.forms['startup_form'];
                form.action = window.staticPath + 'startup/update';  //전송할 URL
                form.method = 'POST';                                    //전송 방식
                form.target = '';                                        //새 창에서 열기
                form.submit();                                           //폼 제출
            }
        }
    </script>
</body>
</html>